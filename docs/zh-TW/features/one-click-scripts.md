# 一鍵執行腳本

將您的 npm 腳本轉變為可點擊的按鈕，並即時顯示終端機輸出。

## 概覽

您 `package.json` 中的每個腳本都會成為 PackageFlow 中可點擊的卡片。不再需要輸入指令 — 只需點擊並觀看。

<!-- TODO: Add screenshot of script cards -->

## 執行腳本

### 基本執行

1. 從側邊欄選擇一個專案
2. 找到腳本卡片（例如 `dev`、`build`、`test`）
3. 點擊卡片執行

終端機面板會自動開啟，顯示即時輸出。

<!-- TODO: Add gif of clicking a script and seeing output -->

### 腳本狀態

| 狀態 | 指示器 | 說明 |
|------|--------|------|
| 就緒 | 預設 | 腳本準備好執行 |
| 執行中 | 轉圈 | 腳本正在執行 |
| 成功 | 綠色勾選 | 腳本成功完成 |
| 失敗 | 紅色 X | 腳本以錯誤結束 |

## 終端機功能

### PTY（偽終端）

PackageFlow 使用 PTY 實現真正的終端機模擬：

- **顏色**：完整 ANSI 顏色支援
- **互動**：支援互動式提示
- **游標**：正確的游標移動
- **Unicode**：完整 unicode 支援

### 輸出緩衝區

- 最大緩衝區大小：1MB
- 較舊的輸出會自動修剪
- 使用清除按鈕清除終端機

<!-- TODO: Add screenshot of terminal with colorful output -->

## 停止腳本

### 單一腳本

點擊執行中腳本卡片上的**停止**按鈕，或點擊終端機面板中的停止圖示。

### 所有腳本

使用狀態列中的**全部停止**按鈕來終止所有執行中的腳本。

## 連接埠管理

PackageFlow 自動偵測腳本使用的連接埠。

### 連接埠衝突偵測

如果腳本嘗試使用已被佔用的連接埠：

1. PackageFlow 偵測到衝突
2. 顯示哪個程序正在使用該連接埠
3. 提供終止衝突程序的選項

<!-- TODO: Add screenshot of port conflict dialog -->

### 檢查連接埠

在執行開發伺服器前，您可以：

1. 右鍵點擊專案
2. 選擇**檢查連接埠**
3. 查看目前正在使用的連接埠

### 終止連接埠

釋放特定連接埠：

1. 右鍵點擊專案
2. 選擇**終止連接埠**
3. 輸入要終止的連接埠號碼
4. 確認操作

## 腳本分類

腳本會按照常見模式自動組織：

| 類別 | 腳本 |
|------|------|
| 開發 | `dev`、`start`、`serve` |
| 建置 | `build`、`compile` |
| 測試 | `test`、`test:*`、`jest`、`vitest` |
| 程式碼檢查 | `lint`、`eslint`、`prettier` |
| 其他 | 其他所有腳本 |

<!-- TODO: Add screenshot showing script categories -->

## 環境變數

腳本使用您系統的環境變數執行。要自訂：

1. 在專案根目錄建立 `.env` 檔案
2. PackageFlow 會自動載入這些變數

## 執行多個腳本

您可以同時執行多個腳本：

1. 點擊第一個腳本啟動它
2. 在其他腳本執行時點擊額外的腳本
3. 每個腳本都有自己的終端機分頁

<!-- TODO: Add screenshot of multiple terminal tabs -->

## 提示

1. **使用鍵盤快捷鍵**：學習常用腳本的快捷鍵
2. **注意狀態列**：它顯示執行中腳本的數量
3. **檢查連接埠衝突**：啟動開發伺服器前執行「檢查連接埠」
4. **定期清除終端機**：保持輸出乾淨以便於除錯
